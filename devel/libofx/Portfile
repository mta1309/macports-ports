# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4

PortSystem              1.0
PortGroup               github 1.0

github.setup            mtalexander libofx e8cc29002fd0de063f541084e6f2ff580d53622b
name                    libofx
version                 20200509
categories              devel
maintainers             nomaintainer
description             A parser and an API designed to allow applications \
                        to very easily support OFX command responses
long_description        This is the LibOFX library. It is a parser and an API \
                        designed to allow applications to very easily support \
                        OFX command responses, usually provided by financial \
                        institutions for statement downloads. To my knowledge, \
                        it is the first working OpenSource implementation of \
                        the OFX (Open Financial eXchange) specification on \
                        the client side.
homepage                http://libofx.sourceforge.net/
platforms               darwin
license                 GPL-2+

checksums               rmd160  6c9512381dd13f8732212d62b553610519ba5260 \
                        sha256  004e440a54617e457d4813d17f8675278e644a80d37faeded4b36dccb7bccb01 \
                        size    225466

# gengetopt is needed when checking out from Git
depends_build-append    port:pkgconfig \
                        port:gengetopt
depends_lib-append      port:opensp

use_autoreconf          yes
configure.args          --with-opensp-includes=${prefix}/include/OpenSP \
                        --with-opensp-libs=${prefix}/lib 

# For some reason parallel builds fail in ofxdump
use_parallel_build  no

patchfiles              patch-libofx-remove-hardcoded-libsdtcxx.diff

platform darwin 8 {
    patchfiles-append   patch-ofx_preproc.cpp.diff
}

livecheck.type      regex
livecheck.url       http://sourceforge.net/projects/libofx/files/libofx/
livecheck.regex     "libofx-(\\d+\\.\\d+\\.\\d+)\\.tar"

